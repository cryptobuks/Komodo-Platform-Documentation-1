(window.webpackJsonp=window.webpackJsonp||[]).push([[307],{691:function(t,s,a){"use strict";a.r(s);var e=a(29),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"how-to-split-utxo-for-notarization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-split-utxo-for-notarization"}},[t._v("#")]),t._v(" How to Split UTXO for Notarization")]),t._v(" "),a("p",[t._v("To participate in a notarisation round, you need to ensure you have enough UTXOs of the correct size available in your wallet. The best way to do this is via a split script in crontab.\nMost coins use UTXOs of "),a("code",[t._v("0.0001")]),t._v(" value (10000 satoshis), but some third party projects like AYA, MIL & EMC2 require "),a("code",[t._v("0.001")]),t._v(" value UTXOs (100000 satoshis).\nTo find out the correct size UTXO for each coin, check https://github.com/KomodoPlatform/dPoW/blob/master/iguana/dpow/dpow_rpc.c#L20")]),t._v(" "),a("h2",{attrs:{id:"splitting-with-iguana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#splitting-with-iguana"}},[t._v("#")]),t._v(" Splitting with Iguana")]),t._v(" "),a("h3",{attrs:{id:"step-1-create-a-script-named-acsplit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-a-script-named-acsplit"}},[t._v("#")]),t._v(" Step 1: Create a script named "),a("code",[t._v("acsplit")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nano")]),t._v(" acsplit\n")])])]),a("p",[t._v("Add the following to the "),a("code",[t._v("acsplit")]),t._v(" file and save it.")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7779")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Use port 7776 for main server and port 7779 for third party server")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sats")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("high_utxo_coins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AYA EMC2 MIL"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${high_utxo_coins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v(' "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=~")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${1}")]),t._v(' "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("sats")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --url "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${port}")]),t._v('"')]),t._v(" --data "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("coin"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${1}")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("agent"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("iguana"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("method"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("splitfunds"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("satoshis"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${sats}")]),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("sendflag"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":1,"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("duplicates"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(':"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${2}")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}"')]),t._v("\n")])])]),a("h3",{attrs:{id:"step-2-give-executable-permission-to-acsplit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-2-give-executable-permission-to-acsplit"}},[t._v("#")]),t._v(" Step 2: Give executable permission to "),a("code",[t._v("acsplit")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x acsplit\n")])])]),a("h3",{attrs:{id:"step-3-split-utxo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-3-split-utxo"}},[t._v("#")]),t._v(" Step 3: Split UTXO")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("./acsplit AYA "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v("\n")])])]),a("h3",{attrs:{id:"optional-check-existing-utxo-count-first"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-check-existing-utxo-count-first"}},[t._v("#")]),t._v(" Optional: Check existing UTXO count first")]),t._v(" "),a("p",[t._v("If you run a split script on cron, running it too often might cause your wallet to bloat up with excessive UTXOs. To avoid this, you can check the current UTXO count for the coin, and either skip or split as required.\nHere is an example:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('chain="AYA"\nsource ~/dPoW/iguana/pubkey.txt\nunspent=$(~/AYAv2/src/aryacoin-cli listunspent | jq \'[.[] | select (.amount==0.001 and .spendable==true and (.scriptPubKey == "\'21${pubkey}ac\'"))] | length\')\necho "${chain}: $unspent"\nif [ $unspent -lt 20 ]; then\n    echo "Topping up ${chain}"\n    curl --url "http://127.0.0.1:7779" --data "{\\"coin\\":\\""${chain}"\\",\\"agent\\":\\"iguana\\",\\"method\\":\\"splitfunds\\",\\"satoshis\\":\\"100000\\",\\"sendflag\\":1,\\"duplicates\\":"40"}"\nfi\n')])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),a("p",[t._v("Make sure you have confirmed balance in your address.\nDirectly mined UTXO will NOT work, you need to either send yourself the mined funds first or send funds from another address before splitting.")])]),t._v(" "),a("h2",{attrs:{id:"webworker-s-split-tool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webworker-s-split-tool"}},[t._v("#")]),t._v(" WebWorker's split tool")]),t._v(" "),a("p",[t._v("Alternatively you can use this script, which buids a raw transaction to perform the split - https://github.com/webworker01/nntools/blob/master/splitfunds")])])}),[],!1,null,null,null);s.default=n.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{546:function(t,e,s){"use strict";s.r(e);var a=s(29),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"atomicdex-api-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#atomicdex-api-configuration"}},[t._v("#")]),t._v(" AtomicDEX API configuration")]),t._v(" "),s("p",[t._v("AtomicDEX-API configuration parameters are "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2.1/mm2src/mm2.rs#L126",target:"_blank",rel:"noopener noreferrer"}},[t._v("listed in the source code"),s("OutboundLink")],1),t._v(", along with "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2.1/mm2src/mm2.rs#L115",target:"_blank",rel:"noopener noreferrer"}},[t._v("additional runtime flags"),s("OutboundLink")],1),t._v(", and "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/atomicDEX-API/blob/mm2.1/mm2src/mm2.rs#L171",target:"_blank",rel:"noopener noreferrer"}},[t._v("per-process environment variables"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"mm2-json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mm2-json"}},[t._v("#")]),t._v(" MM2.json")]),t._v(" "),s("p",[t._v("When running the AtomicDEX API via commandline with the "),s("code",[t._v("mm2")]),t._v(" binary, some basic configuration parameters need to be defined in either an "),s("code",[t._v("MM2.json")]),t._v(" file, or at runtime.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Parameter")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("gui")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Information about your GUI; place essential info about your application (name, version, etc.) here. For example: AtomicDEX iOS 1.0.1")])]),t._v(" "),s("tr",[s("td",[t._v("netid")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v('Nework ID number, telling the AtomicDEX API which network to join. 7777 is the current main network, though alternative netids can be used for testing or "private" trades')])]),t._v(" "),s("tr",[s("td",[t._v("passphrase")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Your passphrase; this is the source of each of your coins private keys. KEEP IT SAFE!")])]),t._v(" "),s("tr",[s("td",[t._v("allow_weak_password")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("If "),s("code",[t._v("true")]),t._v(", will allow low entropy rpc_password. If "),s("code",[t._v("false")]),t._v(' rpc_password must not have 3 of the same characters in a row, must be between 8-32 characters in length, must contain at least one of each of the following: numeric, uppercase, lowercase, special character (e.g. !#$*). It also can not contain the word "password", or the chars '),s("code",[t._v("<")]),t._v(", "),s("code",[t._v(">")]),t._v(", and "),s("code",[t._v("&")]),t._v(". Defaults to "),s("code",[t._v("false")]),t._v(".")])]),t._v(" "),s("tr",[s("td",[t._v("rpc_password")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("Your password for protected RPC methods (userpass)")])]),t._v(" "),s("tr",[s("td",[t._v("userhome")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("The path to your home, called from your environment variables and entered as a regular expression")])]),t._v(" "),s("tr",[s("td",[t._v("dbdir")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("AtomicDEX API database path. Optional, defaults to a subfolder named "),s("code",[t._v("DB")]),t._v(" in the path of your "),s("code",[t._v("mm2")]),t._v(" binary")])]),t._v(" "),s("tr",[s("td",[t._v("rpcip")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("IP address to bind to for RPC server. Optional, defaults to 127.0.0.1")])]),t._v(" "),s("tr",[s("td",[t._v("rpcport")]),t._v(" "),s("td",[t._v("integer")]),t._v(" "),s("td",[t._v("Port to use for RPC communication. Optional, defaults to 7783")])]),t._v(" "),s("tr",[s("td",[t._v("i_am_seed")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("Runs AtomicDEX API as a seed node mode (acting as a relay for AtomicDEX API clients). Optional, defaults to false. Use of this mode is not reccomended on the main network (7777) as it could result in a pubkey ban if non-compliant. on alternative testing or private networks, at least one seed node is required to relay information to other AtomicDEX API clients using the same netID.")])]),t._v(" "),s("tr",[s("td",[t._v("seednodes")]),t._v(" "),s("td",[t._v("list of strings")]),t._v(" "),s("td",[t._v("Optional. If operating on a test or private netID, the IP address of at least one seed node is required (on the main network, these are already hardcoded)")])])])]),t._v(" "),s("p",[t._v("Example (allowing weak password):")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gui"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DEVDOCS_CLI"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"netid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7777")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rpc_password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ENTER_UNIQUE_PASSWORD"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"passphrase"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ENTER_UNIQUE_SEED_PHRASE_DONT_USE_THIS_CHANGE_IT_OR_FUNDS_NOT_SAFU"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allow_weak_password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userhome"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/${HOME#\\"/\\"}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dbdir"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/to/DB/folder"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Example (not allowing weak password):")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gui"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DEVDOCS_CLI"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"netid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7777")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rpc_password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Ent3r_Un1Qu3_Pa$$w0rd"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"passphrase"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ENTER_UNIQUE_SEED_PHRASE_DONT_USE_THIS_CHANGE_IT_OR_FUNDS_NOT_SAFU"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allow_weak_password"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userhome"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/${HOME#\\"/\\"}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dbdir"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/to/DB/folder"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("The "),s("code",[t._v("mm2")]),t._v(" binary will look for the "),s("code",[t._v("MM2.json")]),t._v(" in the same folder as your "),s("code",[t._v("mm2")]),t._v(" binary, unless it is defined as being in a different path via the "),s("code",[t._v("MM2_CONF_PATH")]),t._v(" environment variable.\nAlternatively, you can define the "),s("code",[t._v("MM2.json")]),t._v(" parameters at runtime as below:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("stdbuf -oL "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" ./mm2 "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("gui"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("DEVDOCS_CLI"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("netid"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":7777, "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("userhome"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('/${HOME#"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("passphrase"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("ENTER_UNIQUE_SEED_PHRASE_DONT_USE_THIS_CHANGE_IT_FUNDS_OR_NOT_SAFU"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("rpc_password"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("Ent3r_Un1Qu3_Pa"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$$")]),t._v("w0rd"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("When using the AtomicDEX API on a VPS without accompanying tools such as "),s("code",[t._v("tmux")]),t._v(" or "),s("code",[t._v("screen")]),t._v(", it is recommended that the user add the command "),s("code",[t._v("nohup")]),t._v(" to the AtomicDEX API launch command. This addition ensures that the AtomicDEX API instance is not shutdown when the user logs out.")]),t._v(" "),s("p",[t._v("Optional environment variables that can be user defined are as follows:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Variable")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("MM2_CONF_PATH")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("File path. MM2 will try to load the JSON configuration from this file. The file must contain valid json with structure mentioned above. Defaults to "),s("code",[t._v("MM2.json")]),t._v(" in the same folder as your "),s("code",[t._v("mm2")]),t._v(" binary")])]),t._v(" "),s("tr",[s("td",[t._v("MM_COINS_PATH")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("File path. MM2 will try to load coins data from this file. File must contain valid json. A comprehensive version for public use is maintained in the "),s("a",{attrs:{href:"https://github.com/KomodoPlatform/coins/blob/master/coins",target:"_blank",rel:"noopener noreferrer"}},[t._v("Komodo Platform coins github repository"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",[t._v("MM_LOG")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("File path. Must end with '.log'. The AtomicDEX api will write logs to this file.")])]),t._v(" "),s("tr",[s("td",[t._v("USERPASS")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("For convenience, this variable can store the value of your "),s("code",[t._v("rpc_password")]),t._v(" to be referenced in any shell scripts")])])])])]),t._v(" "),s("h2",{attrs:{id:"setting-userpass-environment-variable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setting-userpass-environment-variable"}},[t._v("#")]),t._v(" Setting userpass Environment Variable")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Userpass will be renamed to "),s("b",[t._v("rpc_password")]),t._v(" for clarity in the near future")])]),t._v(" "),s("p",[t._v("Make a new file in the "),s("code",[t._v("~/atomicDEX-API/target/debug")]),t._v(" directory called "),s("code",[t._v("USERPASS")]),t._v(" and enter the following text, including the "),s("code",[t._v("rpc_password")]),t._v(" you specified earlier:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("USERPASS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RPC_PASSWORD"')]),t._v("\n")])])]),s("p",[t._v("Save it, and then in the terminal execute:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" USERPASS\n")])])]),s("p",[t._v("Test it by executing:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$USERPASS")]),t._v("\n")])])]),s("p",[t._v("You should see your USERPASS as a returned value.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("USERPASS")]),t._v(" environment variable will remain in our terminal's memory until we close the session. When we open up a new session later, we need to create the "),s("code",[t._v("USERPASS")]),t._v(" environment variable again.")])]),t._v(" "),s("p",[t._v("Refer to the rest of the AtomicDEX API documentation for details and examples of how to:")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/basic-docs/atomicdex-api-legacy/electrum.html"}},[t._v("Enable coins")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/basic-docs/atomicdex-api-legacy/buy.html"}},[t._v("Place orders")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/basic-docs/atomicdex-api-legacy/orderbook.html"}},[t._v("View the orderbook")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/basic-docs/atomicdex-api-legacy/my_balance.html"}},[t._v("Check your balance")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/basic-docs/atomicdex-api-20-dev/start_simple_market_maker_bot.html"}},[t._v("Configure bot trading!")])],1)]),t._v(" "),s("p",[t._v("When you are finished, you can exit the AtomicDEX API using the following command:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --url "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:7783"')]),t._v(" --data "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{'),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("userpass"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$userpass")]),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(","),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("method"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(":"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("stop"),s("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v("\n")])])]),s("p",[t._v("If you have any questions or feedback, join us on the "),s("a",{attrs:{href:"https://komodoplatform.com/discord",target:"_blank",rel:"noopener noreferrer"}},[t._v("Komodo Platform Discord Server"),s("OutboundLink")],1),t._v(" and tell us about your experience!")])])}),[],!1,null,null,null);e.default=r.exports}}]);